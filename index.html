<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JK CHOPP ‚Äî Sistema Interno</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body data-theme="dark">
  <div class="app">
    <header>
      <div class="wrap topbar">
        <div class="left">
          <button class="hamburger" id="btnMenu" title="Abrir menu">‚ò∞</button>
          <div class="brand">
            <div class="logo">JK</div>
            <div class="title">
              <h1>JK CHOPP ‚Ä¢ Sistema Interno</h1>
              <small>Gest√£o de Cadastros, Produtos, Pedidos, Financeiro, Relat√≥rios, Contratos e Agendamentos</small>
            </div>
          </div>
        </div>

        <div class="row top-actions">
          <button class="btn" id="btnTheme" title="Alternar tema">üåì Tema</button>
          <button class="btn" id="btnExport" title="Exportar backup (JSON)">‚¨áÔ∏è Exportar</button>
          <label class="btn" for="importFile" title="Importar backup (JSON)">‚¨ÜÔ∏è Importar</label>
          <input id="importFile" type="file" accept="application/json" class="hidden">
          <button class="btn" id="btnReset" title="Zerar base (local)">üóëÔ∏è Zerar</button>
          <button class="btn" id="btnPerfil" title="Perfil do usu√°rio">üë§ Perfil</button>
        </div>
      </div>

      <div class="wrap">
        <nav class="tabs" id="mainTabs"></nav>
      </div>
    </header>

    <main class="wrap">
      <section id="content"></section>
    </main>

    <footer class="wrap">
      <div class="footer">
        <span>v1.0 ‚Ä¢ Persist√™ncia localStorage ‚Ä¢ Ordena√ß√£o ‚Ä¢ Busca ‚Ä¢ CRUD ‚Ä¢ Contrato autom√°tico p/ <span class="hl">Ponto Fixo</span></span>
        <span>Feito com ‚ù§Ô∏è para JK CHOPP</span>
      </div>
    </footer>
  </div>

  <!-- =========================
       TODOS OS TEMPLATES DO SISTEMA
       ========================= -->

  <!-- üè† IN√çCIO (HOME) -->
  <template id="tpl-home">
    <div class="grid-home">
      <section class="card card-stats">
        <h3>Pedidos ‚Äî Vis√£o Geral</h3>
        <div class="stats">
          <div class="stat">
            <span class="stat-value" id="homePedidosAbertos">0</span>
            <span class="stat-label">Abertos / Aguardando pagamento</span>
          </div>
          <div class="stat">
            <span class="stat-value" id="homePedidosConcluidos">0</span>
            <span class="stat-label">Conclu√≠dos</span>
          </div>
        </div>
        <div class="row">
          <button class="btn success" id="goNovoPedido">‚ûï Novo Pedido</button>
          <button class="btn" id="goPedidos">üìã Ver todos</button>
        </div>
      </section>

      <section class="card">
        <h3>Agenda ‚Äî Pr√≥ximos compromissos</h3>
        <div class="toolbar">
          <div class="row">
            <input id="home_ag_titulo" class="input" placeholder="T√≠tulo" />
            <input id="home_ag_data" class="input" type="date" />
            <input id="home_ag_hora" class="input" type="time" />
            <button class="btn success" id="homeAddAgenda">‚ûï Adicionar</button>
            <button class="btn" id="goAgenda">üìÖ Abrir Agenda</button>
          </div>
        </div>
        <div class="table-wrap">
          <table class="table-compact">
            <thead><tr><th>Data</th><th>Hora</th><th>T√≠tulo</th><th></th></tr></thead>
            <tbody id="home_ag_tbody"></tbody>
          </table>
        </div>
      </section>

      <!-- Cards adicionais para m√©tricas -->
      <section class="card">
        <h3>üìä Resumo Financeiro</h3>
        <div class="stats">
          <div class="stat">
            <span class="stat-value" id="homeReceber">R$ 0,00</span>
            <span class="stat-label">A Receber</span>
          </div>
          <div class="stat">
            <span class="stat-value" id="homePagar">R$ 0,00</span>
            <span class="stat-label">A Pagar</span>
          </div>
        </div>
      </section>

      <section class="card">
        <h3>üë• Clientes Ativos</h3>
        <div class="stats">
          <div class="stat">
            <span class="stat-value" id="homeClientesAtivos">0</span>
            <span class="stat-label">Clientes Ativos</span>
          </div>
          <div class="stat">
            <span class="stat-value" id="homePontosFixos">0</span>
            <span class="stat-label">Pontos Fixos</span>
          </div>
        </div>
      </section>
    </div>
  </template>

  <!-- üë• CLIENTES -->
  <template id="tpl-clientes">
    <div class="grid">
      <aside class="card">
        <h3>Cadastro de Cliente</h3>
        <p class="muted">PF/PJ com m√°scara din√¢mica (CPF/CNPJ), marca√ß√£o de Ponto Fixo e endere√ßo.</p>

        <div class="stack">
          <select id="cli_tipo">
            <option value="PF">PF</option>
            <option value="PJ">PJ</option>
          </select>

          <input class="input" id="cli_nome" placeholder="Nome/Raz√£o Social" />
          <input class="input" id="cli_doc" placeholder="CPF/CNPJ" />
          <input class="input" id="cli_fantasia" placeholder="Fantasia (opcional)" />
          <input class="input" id="cli_contato" placeholder="Contato (tel/whatsapp)" />
          <input class="input" id="cli_end" placeholder="Endere√ßo" />

          <div class="flex">
            <label class="pill"><input type="checkbox" id="cli_fixo" /> Ponto Fixo</label>
            <label class="pill"><input type="checkbox" id="cli_ativo" checked /> Ativo</label>
            <label class="pill"><input type="checkbox" id="cli_delivery" /> Delivery</label>
          </div>

          <div class="flex">
            <button class="btn success" id="btnSalvarCliente">üíæ Salvar</button>
            <button class="btn" id="btnLimparCliente">üßπ Limpar</button>
          </div>

          <input type="hidden" id="cli_id" />
          <small class="muted">Ao marcar <b>Ponto Fixo</b>, um contrato padr√£o poder√° ser gerado em <em>Contratos</em>.</small>
        </div>
      </aside>

      <section class="card">
        <div class="toolbar">
          <div class="row">
            <input class="input" id="buscaClientes" placeholder="Buscar clientes..." />
            <span class="muted" id="infoClientes"></span>
          </div>
        </div>

        <div class="table-wrap">
          <table id="tblClientes">
            <thead>
              <tr>
                <th data-k="nome">Nome</th>
                <th data-k="tipo">Tipo</th>
                <th data-k="doc">Documento</th>
                <th data-k="contato">Contato</th>
                <th data-k="fixo">Ponto Fixo</th>
                <th>A√ß√µes</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>
    </div>
  </template>

  <!-- üì¶ PRODUTOS -->
  <template id="tpl-produtos">
    <div class="grid">
      <aside class="card">
        <h3>Cadastro de Produto</h3>
        <p class="muted">Chopeiras, Barris, Cilindros CO‚ÇÇ e demais itens.</p>

        <div class="stack">
          <select id="prd_tipo">
            <option value="Chopeira">Chopeira</option>
            <option value="Barril">Barril</option>
            <option value="Cilindro CO2">Cilindro CO‚ÇÇ</option>
            <option value="Produto">Produto</option>
            <option value="Outro">Outro</option>
          </select>
          <input class="input" id="prd_nome" placeholder="Nome do Produto" />
          <input class="input" id="prd_codigo" placeholder="C√≥digo Interno" />
          <input class="input" id="prd_preco" placeholder="Pre√ßo (R$)" inputmode="decimal" />
          <label class="pill"><input type="checkbox" id="prd_estoque_ctrl" checked /> Controlar estoque</label>

          <div class="flex">
            <button class="btn success" id="btnSalvarProduto">üíæ Salvar</button>
            <button class="btn" id="btnLimparProduto">üßπ Limpar</button>
          </div>

          <input type="hidden" id="prd_id" />
        </div>
      </aside>

      <section class="card">
        <div class="toolbar">
          <input class="input" id="buscaProdutos" placeholder="Buscar produtos..." />
          <span class="right muted" id="infoProdutos"></span>
        </div>

        <table id="tblProdutos">
          <thead>
            <tr>
              <th data-k="nome">Nome</th>
              <th data-k="tipo">Tipo</th>
              <th data-k="codigo">C√≥digo</th>
              <th data-k="preco">Pre√ßo</th>
              <th data-k="estoque">Estoque</th>
              <th>A√ß√µes</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>
    </div>
  </template>

  <!-- üìã PEDIDOS -->
  <template id="tpl-pedidos">
    <div class="card">
      <div class="toolbar">
        <div class="row">
          <button class="btn success" id="btnNovoPedido">‚ûï Novo Pedido</button>
          <select id="filtroStatus" class="input">
            <option value="">Todos</option>
            <option>Aberto</option>
            <option>Em Atendimento</option>
            <option>Conclu√≠do</option>
            <option>Recebido</option>
          </select>
        </div>
        <input class="input" id="buscaPedidos" placeholder="Buscar por cliente ou c√≥digo..." />
      </div>

      <table id="tblPedidos">
        <thead>
          <tr>
            <th data-k="codigo">#</th>
            <th data-k="cliente">Cliente</th>
            <th data-k="itens">Itens</th>
            <th data-k="total">Total</th>
            <th data-k="status">Status</th>
            <th>A√ß√µes</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

      <div class="empty hidden" id="vazioPedidos">Nenhum pedido por aqui...</div>
    </div>
  </template>

  <!-- üìÑ CONTRATOS -->
  <template id="tpl-contratos">
    <div class="card">
      <div class="toolbar">
        <button class="btn" id="btnGerarContratoSelecionado">üìÑ Gerar contrato do cliente (Ponto Fixo)</button>
        <span class="muted">Use o modelo padr√£o embutido (voc√™ pode substituir quando enviar o seu).</span>
      </div>

      <table id="tblContratos">
        <thead>
          <tr>
            <th data-k="cliente">Cliente</th>
            <th data-k="status">Status</th>
            <th data-k="data">Data</th>
            <th>A√ß√µes</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </template>

  <!-- üí∞ FINANCEIRO -->
  <template id="tpl-financeiro">
    <div class="grid">
      <aside class="card">
        <h3>T√≠tulo (Boleto/Nota)</h3>
        <div class="stack">
          <input class="input" id="fin_doc" placeholder="Documento/NSU" />
          <input class="input" id="fin_cliente" placeholder="Cliente" />
          <input class="input" id="fin_valor" placeholder="Valor (R$)" inputmode="decimal" />
          <select id="fin_tipo" class="input">
            <option>Receber</option>
            <option>Pagar</option>
          </select>
          <input class="input" id="fin_venc" type="date" />

          <div class="flex">
            <button class="btn success" id="btnSalvarTitulo">üíæ Salvar</button>
            <button class="btn" id="btnLimparTitulo">üßπ Limpar</button>
          </div>

          <input type="hidden" id="fin_id" />
        </div>
      </aside>

      <section class="card">
        <div class="toolbar">
          <div class="row">
            <select id="filtroTipoFin" class="input">
              <option value="">Todos</option>
              <option>Receber</option>
              <option>Pagar</option>
            </select>
            <input class="input" id="buscaFinanceiro" placeholder="Buscar..." />
          </div>
          <div class="row">
            <span class="pill">Saldo: <b id="finSaldo">R$ 0,00</b></span>
          </div>
        </div>

        <table id="tblFinanceiro">
          <thead>
            <tr>
              <th data-k="doc">Doc</th>
              <th data-k="cliente">Cliente</th>
              <th data-k="valor">Valor</th>
              <th data-k="tipo">Tipo</th>
              <th data-k="venc">Vencimento</th>
              <th>A√ß√µes</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>
    </div>
  </template>

  <!-- üìÖ AGENDAMENTOS -->
  <template id="tpl-agendamentos">
    <div class="stack agenda-grid">
      <section class="card">
        <div class="toolbar">
          <div class="row">
            <input id="ag_titulo" class="input" placeholder="T√≠tulo" />
            <input id="ag_data" class="input" type="date" />
            <input id="ag_hora" class="input" type="time" />
            <button class="btn success" id="btnAddAgenda">‚ûï Adicionar</button>
          </div>
          <input id="buscaAgenda" class="input" placeholder="Buscar..." />
        </div>

        <table id="tblAgenda">
          <thead>
            <tr>
              <th data-k="data">Data</th>
              <th data-k="hora">Hora</th>
              <th data-k="titulo">T√≠tulo</th>
              <th>A√ß√µes</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>

      <aside class="card calendar-wrap">
        <h3>Calend√°rio</h3>
        <div class="cal-header">
          <button class="btn ghost icon" id="calPrev" aria-label="M√™s anterior">‚Äπ</button>
          <div class="cal-title"><span id="calTitle">setembro de 2025</span></div>
          <button class="btn ghost icon" id="calNext" aria-label="Pr√≥ximo m√™s">‚Ä∫</button>
          <button class="btn ghost pill" id="calToday">Hoje</button>
        </div>

        <div class="calendar" id="calendar">
          <div class="cal-weekdays">
            <span>Seg</span><span>Ter</span><span>Qua</span>
            <span>Qui</span><span>Sex</span><span>S√°b</span><span>Dom</span>
          </div>
          <div class="cal-grid" id="calGrid"></div>
        </div>
      </aside>
    </div>
  </template>

  <!-- üìä RELAT√ìRIOS -->
  <template id="tpl-relatorios">
    <div class="card">
      <div class="toolbar">
        <select id="rel_tipo" class="input">
          <option value="clientes">Clientes</option>
          <option value="produtos">Produtos</option>
          <option value="pedidos">Pedidos</option>
          <option value="financeiro">Financeiro</option>
          <option value="estoque">Estoque</option>
        </select>

        <button class="btn" id="btnGerarRelatorio">üìä Gerar Relat√≥rio</button>
        <button class="btn" id="btnCSV">üßæ Exportar CSV</button>
      </div>

      <div id="areaRelatorio" class="stack"></div>
    </div>
  </template>

  <!-- üí∏ RELAT√ìRIO DE REPASSE -->
  <template id="tpl-rel-repasse">
    <section class="relatorio-repasse stack">
      <div class="repasse-header">
        <div class="repasse-title">
          <h2>üìä Relat√≥rio de Repasse Financeiro</h2>
          <button class="btn-print" id="repPrint">üìÑ Baixar PDF</button>
        </div>
        <div class="repasse-periodo">
          <div class="periodo-item">
            <div class="periodo-label">Per√≠odo Inicial</div>
            <input id="rep_dataIni" class="periodo-value" type="date">
          </div>
          <div class="periodo-item">
            <div class="periodo-label">Per√≠odo Final</div>
            <input id="rep_dataFim" class="periodo-value" type="date">
          </div>
          <div class="periodo-item">
            <div class="periodo-label">Data de Pagamento</div>
            <input id="rep_dataPag" class="periodo-value" type="date">
          </div>
        </div>
      </div>

      <div class="repasse-table-container">
        <div class="repasse-table-header">
          <h3>üí∞ Fechamento de Vendas - Per√≠odo de Duas Semanas</h3>
          <button class="btn-add" id="repAddCliente">+ Adicionar Linha</button>
        </div>
        <div class="table-wrap">
          <table class="repasse-table">
            <thead>
              <tr>
                <th class="text-left">Cliente</th>
                <th class="text-left">Marca do Chopp</th>
                <th class="text-right">Qtde (L)</th>
                <th class="text-right">Custo p/L</th>
                <th class="text-right">Barris</th>
                <th class="text-right">Custo Total</th>
                <th class="text-right">Valor Venda</th>
                <th class="text-right">Parte Marcos</th>
                <th class="text-right">Parte JK</th>
                <th class="text-center">A√ß√µes</th>
              </tr>
            </thead>
            <tbody id="repTblVendas"></tbody>
            <tfoot>
              <tr>
                <td colspan="5" class="text-right"><strong>TOTAIS</strong></td>
                <td class="text-right"><strong id="repTotCusto">R$ 0,00</strong></td>
                <td class="text-right"><strong id="repTotVenda">R$ 0,00</strong></td>
                <td class="text-right"><strong id="repTotM">R$ 0,00</strong></td>
                <td class="text-right"><strong id="repTotJ">R$ 0,00</strong></td>
                <td></td>
              </tr>
            </tfoot>
          </table>
        </div>
      </div>

      <div class="repasse-table-container">
        <div class="repasse-table-header">
          <h3>üí∏ Despesas do Per√≠odo</h3>
          <button class="btn-add" id="repAddDespesa">+ Adicionar Despesa</button>
        </div>
        <div class="table-wrap">
          <table class="repasse-table">
            <thead>
              <tr>
                <th class="text-left">Descri√ß√£o</th>
                <th class="text-right">Valor Total</th>
                <th class="text-left">Observa√ß√µes</th>
                <th class="text-right">Parte JK</th>
                <th class="text-right">Parte Marcos</th>
                <th class="text-center">Pago?</th>
                <th class="text-center">A√ß√µes</th>
              </tr>
            </thead>
            <tbody id="repTblDespesas"></tbody>
            <tfoot>
              <tr>
                <td colspan="1" class="text-right"><strong>TOTAIS</strong></td>
                <td class="text-right"><strong id="repTotDespVal">R$ 0,00</strong></td>
                <td></td>
                <td class="text-right"><strong id="repTotDespJK">R$ 0,00</strong></td>
                <td class="text-right"><strong id="repTotDespM">R$ 0,00</strong></td>
                <td colspan="2"></td>
              </tr>
            </tfoot>
          </table>
        </div>
      </div>

      <div class="repasse-calculos">
        <div class="calc-card amber">
          <h4>üíº Marcos</h4>
          <div class="calc-line">
            <span>Parte das Vendas</span>
            <strong id="resParteM">R$ 0,00</strong>
          </div>
          <div class="calc-line">
            <span>‚àí Despesas Marcos</span>
            <strong id="resDespM">R$ 0,00</strong>
          </div>
          <div class="calc-line calc-total">
            <span>Total a Receber</span>
            <strong id="resTotalM" class="positive">R$ 0,00</strong>
          </div>
        </div>
        
        <div class="calc-card sky">
          <h4>üè¢ JK CHOPP</h4>
          <div class="calc-line">
            <span>Parte das Vendas</span>
            <strong id="resParteJ">R$ 0,00</strong>
          </div>
          <div class="calc-line">
            <span>‚àí Despesas JK</span>
            <strong id="resDespJ">R$ 0,00</strong>
          </div>
          <div class="calc-line calc-total">
            <span>Saldo Final</span>
            <strong id="resSaldoJ" class="positive">R$ 0,00</strong>
          </div>
        </div>
        
        <div class="calc-card green">
          <h4>üìà Resultado Geral</h4>
          <div class="calc-line">
            <span>Vendas Brutas</span>
            <strong id="resVendas">R$ 0,00</strong>
          </div>
          <div class="calc-line">
            <span>‚àí Custos</span>
            <strong id="resCustos">R$ 0,00</strong>
          </div>
          <div class="calc-line">
            <span>‚àí Despesas</span>
            <strong id="resDespesas">R$ 0,00</strong>
          </div>
          <div class="calc-line calc-total">
            <span>Lucro L√≠quido</span>
            <strong id="resLucro" class="positive">R$ 0,00</strong>
          </div>
        </div>
      </div>
    </section>
  </template>

  <!-- üì¶ ESTOQUE (ATUALIZADO) -->
<template id="tpl-estoque">
  <div class="screen screen--estoque">
    <!-- M√âTRICAS -->
    <section class="dashboard-grid">
      <article class="metric-card">
        <div class="metric-header">
          <div class="metric-info">
            <h3>BARRIS VAZIOS</h3>
            <div class="metric-value" id="barrisVazios">0</div>
            <div class="metric-label">unidades dispon√≠veis</div>
          </div>
          <div class="metric-icon">üõ¢Ô∏è</div>
        </div>
      </article>

      <article class="metric-card">
        <div class="metric-header">
          <div class="metric-info">
            <h3>BARRIS CHEIOS</h3>
            <div class="metric-value" id="barrisCheios">0</div>
            <div class="metric-label">unidades em estoque</div>
          </div>
          <div class="metric-icon">üç∫</div>
        </div>
      </article>

      <article class="metric-card">
        <div class="metric-header">
          <div class="metric-info">
            <h3>CHOPEIRAS</h3>
            <div class="metric-value" id="chopeiras">0</div>
            <div class="metric-label">equipamentos ativos</div>
          </div>
          <div class="metric-icon">üßä</div>
        </div>
      </article>

      <article class="metric-card">
        <div class="metric-header">
          <div class="metric-info">
            <h3>CILINDROS CO2</h3>
            <div class="metric-value" id="cilindrosCO2">0</div>
            <div class="metric-label">cilindros dispon√≠veis</div>
          </div>
          <div class="metric-icon">‚ö°</div>
        </div>
      </article>
    </section>

    <!-- CONTE√öDO -->
    <section class="content-grid">
      <!-- FORM √Ä ESQUERDA -->
      <article class="card">
        <h3>Nova Movimenta√ß√£o</h3>
        <p class="muted">Registre entradas, sa√≠das e transfer√™ncias</p>

        <form id="movimentacaoForm" class="stack" style="margin-top:12px">
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label" for="tipoItem">Tipo de Item</label>
              <select id="tipoItem" class="form-select" required>
                <option value="">Selecione o tipo</option>
                <option value="barril">Barril</option>
                <option value="chopeira">Chopeira</option>
                <option value="cilindro">Cilindro CO2</option>
              </select>
            </div>

            <!-- aparece somente quando Tipo de Item = Barril -->
            <div class="form-group" id="grpEstadoBarril" hidden>
              <label class="form-label" for="estadoBarril">Estado do Barril</label>
              <select id="estadoBarril" class="form-select">
                <option value="cheio">Cheio</option>
                <option value="vazio">Vazio</option>
              </select>
            </div>

            <div class="form-group" id="grpLitragemBarril" hidden>
              <label class="form-label" for="litragemBarril">Litragem</label>
              <select id="litragemBarril" class="form-select">
                <option value="15">15 L</option>
                <option value="20">20 L</option>
                <option value="30">30 L</option>
                <option value="50">50 L</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label" for="tipoMovimento">Tipo de Movimento</label>
              <select id="tipoMovimento" class="form-select" required>
                <option value="">Selecione o movimento</option>
                <option value="entrada">Entrada</option>
                <option value="saida">Sa√≠da</option>
                <option value="recolha">Recolha</option>
                <option value="devolucao">Devolu√ß√£o</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label" for="quantidade">Quantidade</label>
              <input id="quantidade" type="number" class="form-input" min="1" value="1" required />
            </div>

            <div class="form-group">
              <label class="form-label" for="cliente">Cliente/Observa√ß√£o</label>
              <input id="cliente" type="text" class="form-input" placeholder="Nome do cliente ou observa√ß√£o" />
            </div>
          </div>

          <div class="flex">
            <button type="submit" class="btn primary" id="btnRegistrar">Registrar Movimenta√ß√£o</button>
            <button type="button" class="btn" id="btnRelatorio">üìÑ Gerar Relat√≥rio</button>
          </div>
        </form>
      </article>

      <!-- RESUMO √Ä DIREITA -->
      <article class="card">
        <h3>Resumo R√°pido</h3>
        <p class="muted">Estat√≠sticas em tempo real</p>

        <div class="stats-grid" style="margin-top:12px">
          <div class="stat-item">
            <span class="stat-label">Movimenta√ß√µes hoje</span>
            <span class="stat-value" id="movimentacoesHoje">0</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Entradas hoje</span>
            <span class="stat-value" id="entradasHoje">0</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Sa√≠das hoje</span>
            <span class="stat-value" id="saidasHoje">0</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Total no sistema</span>
            <span class="stat-value" id="totalItens">0</span>
          </div>
        </div>
      </article>
    </section>

    <!-- HIST√ìRICO -->
    <section class="card history-panel">
      <h3>Hist√≥rico de Movimenta√ß√µes</h3>
      <p class="muted">Acompanhe todas as opera√ß√µes realizadas</p>

      <div class="history-controls">
        <select id="filtroTipo" class="form-select" style="max-width:260px">
          <option value="">Todos os movimentos</option>
          <option value="entrada">Entradas</option>
          <option value="saida">Sa√≠das</option>
          <option value="recolha">Recolhas</option>
          <option value="devolucao">Devolu√ß√µes</option>
        </select>

        <select id="filtroItem" class="form-select" style="max-width:240px">
          <option value="">Todos os itens</option>
          <option value="barril">Barris</option>
          <option value="chopeira">Chopeiras</option>
          <option value="cilindro">Cilindros CO2</option>
        </select>

        <button class="btn" id="btnLimpar">üóëÔ∏è Limpar Hist√≥rico</button>
      </div>

      <div class="history-list" id="historicoContainer">
        <div class="empty">Nenhuma movimenta√ß√£o registrada ainda</div>
      </div>

      <div class="pagination" id="paginationContainer" hidden>
        <button class="btn" id="prevBtn">‚Üê Anterior</button>
        <span class="pagination-info" id="pageInfo">P√°gina 1 de 1</span>
        <button class="btn" id="nextBtn">Pr√≥xima ‚Üí</button>
      </div>
    </section>
  </div>
</template>

  <!-- üõí FORNECEDORES -->
  <template id="tpl-fornecedores">
    <div class="card">
      <h3>üè¢ Fornecedores</h3>
      <p class="muted">Cadastro de fornecedores e parceiros comerciais.</p>
      <div class="toolbar">
        <button class="btn success">‚ûï Novo Fornecedor</button>
        <input class="input" placeholder="Buscar fornecedores..." />
      </div>
      <div class="empty">
        <p>üöß M√≥dulo em desenvolvimento</p>
        <small>Cadastro completo de fornecedores em breve</small>
      </div>
    </div>
  </template>

  <!-- üßë‚Äçüíº FUNCION√ÅRIOS -->
  <template id="tpl-funcionarios">
    <div class="card">
      <h3>üë• Funcion√°rios</h3>
      <p class="muted">Gest√£o de equipe e colaboradores.</p>
      <div class="toolbar">
        <button class="btn success">‚ûï Novo Funcion√°rio</button>
        <input class="input" placeholder="Buscar funcion√°rios..." />
      </div>
      <div class="empty">
        <p>üöß M√≥dulo em desenvolvimento</p>
        <small>Controle completo de funcion√°rios em breve</small>
      </div>
    </div>
  </template>

  <!-- üë• GRUPOS DE PRE√áO -->
  <template id="tpl-grupos-preco">
    <div class="card">
      <h3>üí∞ Grupos de Pre√ßo</h3>
      <p class="muted">Configura√ß√£o de tabelas de pre√ßos por segmento.</p>
      <div class="toolbar">
        <button class="btn success">‚ûï Novo Grupo</button>
        <input class="input" placeholder="Buscar grupos..." />
      </div>
      <div class="empty">
        <p>üöß M√≥dulo em desenvolvimento</p>
        <small>Sistema de grupos de pre√ßo em breve</small>
      </div>
    </div>
  </template>

  <!-- üí¨ INTERA√á√ïES -->
  <template id="tpl-interacoes">
    <div class="card">
      <h3>üí¨ Intera√ß√µes</h3>
      <p class="muted">Hist√≥rico de contatos e intera√ß√µes com clientes.</p>
      <div class="toolbar">
        <button class="btn success">‚ûï Nova Intera√ß√£o</button>
        <input class="input" placeholder="Buscar intera√ß√µes..." />
      </div>
      <div class="empty">
        <p>üöß M√≥dulo em desenvolvimento</p>
        <small>CRM completo em breve</small>
      </div>
    </div>
  </template>

  <!-- üöö TRANSPORTADORAS -->
  <template id="tpl-transportadoras">
    <div class="card">
      <h3>üöö Transportadoras</h3>
      <p class="muted">Cadastro e gest√£o de empresas de transporte.</p>
      <div class="toolbar">
        <button class="btn success">‚ûï Nova Transportadora</button>
        <input class="input" placeholder="Buscar transportadoras..." />
      </div>
      <div class="empty">
        <p>üöß M√≥dulo em desenvolvimento</p>
        <small>Controle de fretes e transportadoras em breve</small>
      </div>
    </div>
  </template>

  <!-- üßæ NF-E E BOLETOS -->
  <template id="tpl-nfe-boletos">
    <div class="card">
      <h3>üßæ NF-e e Boletos</h3>
      <p class="muted">Gest√£o de documentos fiscais e cobran√ßa.</p>
      <div class="toolbar">
        <button class="btn success">‚ûï Novo Documento</button>
        <input class="input" placeholder="Buscar documentos..." />
      </div>
      <div class="empty">
        <p>üöß M√≥dulo em desenvolvimento</p>
        <small>Integra√ß√£o fiscal completa em breve</small>
      </div>
    </div>
  </template>

  <!-- ‚ùì AJUDA -->
  <template id="tpl-ajuda">
    <div class="card">
      <h3>‚ùì Central de Ajuda</h3>
      <p class="muted">Tutoriais e suporte do sistema.</p>
      <div class="stack">
        <div class="card">
          <h4>üìñ Como usar o sistema</h4>
          <p>Guia completo de utiliza√ß√£o das funcionalidades.</p>
          <button class="btn">Abrir Tutorial</button>
        </div>
        <div class="card">
          <h4>üêõ Reportar Problema</h4>
          <p>Encontrou um erro? Nos avise!</p>
          <button class="btn">Reportar Bug</button>
        </div>
        <div class="card">
          <h4>üí° Sugest√µes</h4>
          <p>Tem ideias para melhorar o sistema?</p>
          <button class="btn">Enviar Sugest√£o</button>
        </div>
      </div>
    </div>
  </template>

  <!-- =========================
    DRAWER (MENU LATERAL) + BACKDROP
    ========================= -->
  <div id="backdrop" class="backdrop" aria-hidden="true"></div>
  <aside id="menuDrawer" class="drawer" aria-hidden="true">
    <div class="drawer-head">
      <span class="drawer-title">JK CHOPP</span>
      <button class="drawer-close" id="btnCloseMenu" title="Fechar">‚úï</button>
    </div>
    <nav id="menuList"></nav>
  </aside>
<!-- DIAGN√ìSTICO SUPABASE -->
<section id="diag-supabase" class="card" style="margin:16px 0">
  <h2 class="title">Diagn√≥stico Supabase</h2>
  <div id="supStatus" style="margin:8px 0;font-weight:600">‚è≥ Aguardando teste‚Ä¶</div>
  <div class="row gap" style="margin-bottom:10px">
    <button id="btnCheck"  class="btn">Checar conex√£o</button>
    <button id="btnInsert" class="btn-primary">Inserir cliente de teste</button>
    <button id="btnList"   class="btn">Listar √∫ltimos clientes</button>
  </div>
  <pre id="supOutput" style="background:#0f1622;border:1px solid #233044;border-radius:12px;padding:12px;white-space:pre-wrap;overflow:auto;max-height:260px">Sa√≠da aparecer√° aqui‚Ä¶</pre>
</section>

<!-- 1) BIBLIOTECA DO SUPABASE (deve vir ANTES do seu script.js) -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- 2) SEU SCRIPT -->
<script src="./script.js"></script>
</body>
</html>
